<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/project_3_tcs_grupo4_dam/presentation/skills/NivelSkillsScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/project_3_tcs_grupo4_dam/presentation/skills/NivelSkillsScreen.kt" />
              <option name="updatedContent" value="package com.example.project_3_tcs_grupo4_dam.presentation.skills&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Add&#10;import androidx.compose.material.icons.filled.Delete&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.navigation.NavController&#10;import com.example.project_3_tcs_grupo4_dam.presentation.components.BottomNavBar&#10;&#10;// ======================================================&#10;// DATA CLASS PARA ADMINISTRACIÓN&#10;// ======================================================&#10;data class SkillAdmin(&#10;    val id: Int,&#10;    val name: String,&#10;    var level: Int,       // 1–4 (Editable)&#10;    var category: String  // Técnico / Soft&#10;)&#10;&#10;// ======================================================&#10;// MOCK DATA PARA EDITAR&#10;// ======================================================&#10;val mockSkillsAdmin = mutableListOf(&#10;    SkillAdmin(1, &quot;Excel Avanzado&quot;, 4, &quot;Técnico&quot;),&#10;    SkillAdmin(2, &quot;SQL Intermedio&quot;, 3, &quot;Técnico&quot;),&#10;    SkillAdmin(3, &quot;Python Básico&quot;, 2, &quot;Técnico&quot;),&#10;    SkillAdmin(4, &quot;Power BI&quot;, 3, &quot;Técnico&quot;),&#10;    SkillAdmin(5, &quot;Liderazgo&quot;, 3, &quot;Soft&quot;),&#10;    SkillAdmin(6, &quot;Comunicación&quot;, 4, &quot;Soft&quot;)&#10;)&#10;&#10;// ======================================================&#10;// MAIN SCREEN - ADMINISTRACIÓN DE SKILLS&#10;// ======================================================&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun NivelSkillsScreen(navController: NavController) {&#10;    &#10;    var skillsList by remember { mutableStateOf(mockSkillsAdmin) }&#10;    var showAddDialog by remember { mutableStateOf(false) }&#10;&#10;    Scaffold(&#10;        topBar = {&#10;            TopAppBar(&#10;                title = { Text(&quot;Nivel Skills - Administración&quot;) },&#10;                colors = TopAppBarDefaults.topAppBarColors(&#10;                    containerColor = Color(0xFF1959B8),&#10;                    titleContentColor = Color.White&#10;                )&#10;            )&#10;        },&#10;        bottomBar = {&#10;            BottomNavBar(navController = navController)&#10;        },&#10;        floatingActionButton = {&#10;            FloatingActionButton(&#10;                onClick = { showAddDialog = true },&#10;                containerColor = Color(0xFF1959B8)&#10;            ) {&#10;                Icon(Icons.Default.Add, contentDescription = &quot;Agregar Skill&quot;, tint = Color.White)&#10;            }&#10;        }&#10;    ) { padding -&gt;&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(padding)&#10;                .padding(16.dp)&#10;        ) {&#10;            // Título descriptivo&#10;            Text(&#10;                text = &quot;Gestiona los niveles de skills de los colaboradores&quot;,&#10;                style = MaterialTheme.typography.bodyMedium,&#10;                color = Color.Gray,&#10;                modifier = Modifier.padding(bottom = 16.dp)&#10;            )&#10;&#10;            LazyColumn(&#10;                verticalArrangement = Arrangement.spacedBy(12.dp)&#10;            ) {&#10;                items(skillsList) { skill -&gt;&#10;                    SkillAdminCard(&#10;                        skill = skill,&#10;                        onLevelChange = { newLevel -&gt;&#10;                            skillsList = skillsList.map {&#10;                                if (it.id == skill.id) it.copy(level = newLevel) else it&#10;                            }.toMutableList()&#10;                        },&#10;                        onDelete = {&#10;                            skillsList = skillsList.filter { it.id != skill.id }.toMutableList()&#10;                        }&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        // Dialog para agregar nuevo skill&#10;        if (showAddDialog) {&#10;            AddSkillDialog(&#10;                onDismiss = { showAddDialog = false },&#10;                onConfirm = { name, level, category -&gt;&#10;                    val newSkill = SkillAdmin(&#10;                        id = (skillsList.maxOfOrNull { it.id } ?: 0) + 1,&#10;                        name = name,&#10;                        level = level,&#10;                        category = category&#10;                    )&#10;                    skillsList = (skillsList + newSkill).toMutableList()&#10;                    showAddDialog = false&#10;                }&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;// ======================================================&#10;// CARD EDITABLE DE SKILL&#10;// ======================================================&#10;@Composable&#10;fun SkillAdminCard(&#10;    skill: SkillAdmin,&#10;    onLevelChange: (Int) -&gt; Unit,&#10;    onDelete: () -&gt; Unit&#10;) {&#10;    var showEditDialog by remember { mutableStateOf(false) }&#10;&#10;    Card(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        colors = CardDefaults.cardColors(&#10;            containerColor = Color.White&#10;        ),&#10;        elevation = CardDefaults.cardElevation(2.dp)&#10;    ) {&#10;        Column(&#10;            modifier = Modifier.padding(16.dp)&#10;        ) {&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                horizontalArrangement = Arrangement.SpaceBetween,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Column(modifier = Modifier.weight(1f)) {&#10;                    Text(&#10;                        text = skill.name,&#10;                        fontSize = 17.sp,&#10;                        fontWeight = FontWeight.Bold&#10;                    )&#10;                    Text(&#10;                        text = &quot;${skill.category} • Nivel ${skill.level}&quot;,&#10;                        fontSize = 14.sp,&#10;                        color = Color.Gray&#10;                    )&#10;                }&#10;&#10;                Row {&#10;                    IconButton(onClick = { showEditDialog = true }) {&#10;                        Icon(&#10;                            Icons.Default.Edit,&#10;                            contentDescription = &quot;Editar&quot;,&#10;                            tint = Color(0xFF1959B8)&#10;                        )&#10;                    }&#10;                    IconButton(onClick = onDelete) {&#10;                        Icon(&#10;                            Icons.Default.Delete,&#10;                            contentDescription = &quot;Eliminar&quot;,&#10;                            tint = Color(0xFFD32F2F)&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(12.dp))&#10;&#10;            // Selector de nivel&#10;            Row(&#10;                modifier = Modifier.fillMaxWidth(),&#10;                horizontalArrangement = Arrangement.SpaceBetween,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Text(&quot;Nivel:&quot;, fontSize = 14.sp, fontWeight = FontWeight.Medium)&#10;                &#10;                Row(horizontalArrangement = Arrangement.spacedBy(8.dp)) {&#10;                    (1..4).forEach { level -&gt;&#10;                        FilterChip(&#10;                            selected = skill.level == level,&#10;                            onClick = { onLevelChange(level) },&#10;                            label = { Text(level.toString()) }&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    if (showEditDialog) {&#10;        EditSkillDialog(&#10;            skill = skill,&#10;            onDismiss = { showEditDialog = false },&#10;            onConfirm = { newLevel, newCategory -&gt;&#10;                onLevelChange(newLevel)&#10;                showEditDialog = false&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;// ======================================================&#10;// DIALOG PARA AGREGAR SKILL&#10;// ======================================================&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun AddSkillDialog(&#10;    onDismiss: () -&gt; Unit,&#10;    onConfirm: (String, Int, String) -&gt; Unit&#10;) {&#10;    var skillName by remember { mutableStateOf(&quot;&quot;) }&#10;    var selectedLevel by remember { mutableStateOf(1) }&#10;    var selectedCategory by remember { mutableStateOf(&quot;Técnico&quot;) }&#10;    var expandedCategory by remember { mutableStateOf(false) }&#10;&#10;    val categories = listOf(&quot;Técnico&quot;, &quot;Soft&quot;)&#10;&#10;    AlertDialog(&#10;        onDismissRequest = onDismiss,&#10;        title = { Text(&quot;Agregar Nuevo Skill&quot;) },&#10;        text = {&#10;            Column(&#10;                verticalArrangement = Arrangement.spacedBy(12.dp)&#10;            ) {&#10;                OutlinedTextField(&#10;                    value = skillName,&#10;                    onValueChange = { skillName = it },&#10;                    label = { Text(&quot;Nombre del Skill&quot;) },&#10;                    modifier = Modifier.fillMaxWidth()&#10;                )&#10;&#10;                ExposedDropdownMenuBox(&#10;                    expanded = expandedCategory,&#10;                    onExpandedChange = { expandedCategory = !expandedCategory }&#10;                ) {&#10;                    OutlinedTextField(&#10;                        value = selectedCategory,&#10;                        onValueChange = {},&#10;                        readOnly = true,&#10;                        label = { Text(&quot;Categoría&quot;) },&#10;                        trailingIcon = { ExposedDropdownMenuDefaults.TrailingIcon(expanded = expandedCategory) },&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .menuAnchor()&#10;                    )&#10;                    ExposedDropdownMenu(&#10;                        expanded = expandedCategory,&#10;                        onDismissRequest = { expandedCategory = false }&#10;                    ) {&#10;                        categories.forEach { category -&gt;&#10;                            DropdownMenuItem(&#10;                                text = { Text(category) },&#10;                                onClick = {&#10;                                    selectedCategory = category&#10;                                    expandedCategory = false&#10;                                }&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;&#10;                Text(&quot;Nivel:&quot;, fontWeight = FontWeight.Medium)&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.SpaceEvenly&#10;                ) {&#10;                    (1..4).forEach { level -&gt;&#10;                        FilterChip(&#10;                            selected = selectedLevel == level,&#10;                            onClick = { selectedLevel = level },&#10;                            label = { Text(level.toString()) }&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        },&#10;        confirmButton = {&#10;            TextButton(&#10;                onClick = {&#10;                    if (skillName.isNotBlank()) {&#10;                        onConfirm(skillName, selectedLevel, selectedCategory)&#10;                    }&#10;                },&#10;                enabled = skillName.isNotBlank()&#10;            ) {&#10;                Text(&quot;Agregar&quot;)&#10;            }&#10;        },&#10;        dismissButton = {&#10;            TextButton(onClick = onDismiss) {&#10;                Text(&quot;Cancelar&quot;)&#10;            }&#10;        }&#10;    )&#10;}&#10;&#10;// ======================================================&#10;// DIALOG PARA EDITAR SKILL&#10;// ======================================================&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun EditSkillDialog(&#10;    skill: SkillAdmin,&#10;    onDismiss: () -&gt; Unit,&#10;    onConfirm: (Int, String) -&gt; Unit&#10;) {&#10;    var selectedLevel by remember { mutableStateOf(skill.level) }&#10;    var selectedCategory by remember { mutableStateOf(skill.category) }&#10;    var expandedCategory by remember { mutableStateOf(false) }&#10;&#10;    val categories = listOf(&quot;Técnico&quot;, &quot;Soft&quot;)&#10;&#10;    AlertDialog(&#10;        onDismissRequest = onDismiss,&#10;        title = { Text(&quot;Editar ${skill.name}&quot;) },&#10;        text = {&#10;            Column(&#10;                verticalArrangement = Arrangement.spacedBy(12.dp)&#10;            ) {&#10;                ExposedDropdownMenuBox(&#10;                    expanded = expandedCategory,&#10;                    onExpandedChange = { expandedCategory = !expandedCategory }&#10;                ) {&#10;                    OutlinedTextField(&#10;                        value = selectedCategory,&#10;                        onValueChange = {},&#10;                        readOnly = true,&#10;                        label = { Text(&quot;Categoría&quot;) },&#10;                        trailingIcon = { ExposedDropdownMenuDefaults.TrailingIcon(expanded = expandedCategory) },&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .menuAnchor()&#10;                    )&#10;                    ExposedDropdownMenu(&#10;                        expanded = expandedCategory,&#10;                        onDismissRequest = { expandedCategory = false }&#10;                    ) {&#10;                        categories.forEach { category -&gt;&#10;                            DropdownMenuItem(&#10;                                text = { Text(category) },&#10;                                onClick = {&#10;                                    selectedCategory = category&#10;                                    expandedCategory = false&#10;                                }&#10;                            )&#10;                        }&#10;                    }&#10;                }&#10;&#10;                Text(&quot;Nivel:&quot;, fontWeight = FontWeight.Medium)&#10;                Row(&#10;                    modifier = Modifier.fillMaxWidth(),&#10;                    horizontalArrangement = Arrangement.SpaceEvenly&#10;                ) {&#10;                    (1..4).forEach { level -&gt;&#10;                        FilterChip(&#10;                            selected = selectedLevel == level,&#10;                            onClick = { selectedLevel = level },&#10;                            label = { Text(level.toString()) }&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        },&#10;        confirmButton = {&#10;            TextButton(onClick = { onConfirm(selectedLevel, selectedCategory) }) {&#10;                Text(&quot;Guardar&quot;)&#10;            }&#10;        },&#10;        dismissButton = {&#10;            TextButton(onClick = onDismiss) {&#10;                Text(&quot;Cancelar&quot;)&#10;            }&#10;        }&#10;    )&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>